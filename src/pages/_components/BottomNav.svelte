<script>
  import RoundedIcon from "./RoundedIcon.svelte";
  let urls = [
    { link: "/", text: "Home" },
    { link: "/play", text: "Play" },

    { link: "/write", text: "Images" },
  ];
  import { url, isActive } from "@roxi/routify";
  import { user as currentUser } from "../../stores";
  import Avatar from "./Avatar.svelte";
</script>

<style>
  nav {
    width: 100%;

    padding: 8pt;
    position: fixed;
    bottom: 0;
    left: 0;
    box-shadow: 0 0 2px 0 rgba(82, 82, 82, 0.79);
  }
  a {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0 12px;
  }
  .active {
    fill: #4f46e5;
  }
  a svg {
    width: 20pt;
    height: auto;
    fill: white;
  }
  address:focus {
    outline: none;
  }
  .indicator {
    position: absolute;
    bottom: 8px;
    width: 4px;
    height: 4px;
    background-color: rgb(221, 32, 32);
    border-radius: 100000pt;
    /* w-1 h-1 bg-red-500 rounded-full */
  }
</style>

<!-- <div class="text-white">{$isActive('./')}</div> -->
<!-- class:active={} -->
<nav
  class="sm:hidden  fixed bottom-0 bg-black w-full flex space-x-3 justify-between">
  <a href={$url('/')}>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      x="0px"
      y="0px"
      viewBox="0 0 122.9 77.1"
      enable-background="new 0 0 122.9 77.1"
      xml:space="preserve">
      <defs />
      <g id="Regular-M_1_" transform="matrix(1 0 0 1 1375.94 1126)">
        <path
          d="M-1360.6-1048.9h92.2c10.2,0,15.3-5.1,15.3-15.1v-46.9c0-10-5.2-15.1-15.3-15.1h-92.2c-10.3,0-15.3,5-15.3,15.1v46.9
            C-1375.9-1053.9-1370.9-1048.9-1360.6-1048.9z M-1360.5-1056.7c-4.9,0-7.6-2.6-7.6-7.7v-46c0-5.1,2.7-7.7,7.6-7.7h92
            c4.8,0,7.6,2.6,7.6,7.7v46c0,5.1-2.8,7.7-7.6,7.7H-1360.5z M-1356.1-1098.8h4.5c1.4,0,2.2-0.8,2.2-2.1v-4.5c0-1.4-0.8-2.2-2.2-2.2
            h-4.5c-1.3,0-2.1,0.8-2.1,2.2v4.5C-1358.3-1099.6-1357.4-1098.8-1356.1-1098.8z M-1340.4-1098.8h4.5c1.3,0,2.1-0.8,2.1-2.1v-4.5
            c0-1.4-0.8-2.2-2.1-2.2h-4.5c-1.4,0-2.2,0.8-2.2,2.2v4.5C-1342.6-1099.6-1341.8-1098.8-1340.4-1098.8z M-1324.7-1098.8h4.4
            c1.4,0,2.2-0.8,2.2-2.1v-4.5c0-1.4-0.8-2.2-2.2-2.2h-4.4c-1.4,0-2.2,0.8-2.2,2.2v4.5C-1326.9-1099.6-1326-1098.8-1324.7-1098.8z
            M-1309-1098.8h4.5c1.4,0,2.2-0.8,2.2-2.1v-4.5c0-1.4-0.8-2.2-2.2-2.2h-4.5c-1.3,0-2.1,0.8-2.1,2.2v4.5
            C-1311.1-1099.6-1310.3-1098.8-1309-1098.8z M-1293.3-1098.8h4.5c1.3,0,2.1-0.8,2.1-2.1v-4.5c0-1.4-0.8-2.2-2.1-2.2h-4.5
            c-1.4,0-2.2,0.8-2.2,2.2v4.5C-1295.5-1099.6-1294.6-1098.8-1293.3-1098.8z M-1277.6-1098.8h4.4c1.4,0,2.2-0.8,2.2-2.1v-4.5
            c0-1.4-0.8-2.2-2.2-2.2h-4.4c-1.4,0-2.2,0.8-2.2,2.2v4.5C-1279.7-1099.6-1278.9-1098.8-1277.6-1098.8z M-1356.1-1083.1h4.5
            c1.4,0,2.2-0.8,2.2-2.2v-4.4c0-1.4-0.8-2.2-2.2-2.2h-4.5c-1.3,0-2.1,0.8-2.1,2.2v4.4C-1358.3-1083.9-1357.4-1083.1-1356.1-1083.1z
            M-1340.4-1083.1h4.5c1.3,0,2.1-0.8,2.1-2.2v-4.4c0-1.4-0.8-2.2-2.1-2.2h-4.5c-1.4,0-2.2,0.8-2.2,2.2v4.4
            C-1342.6-1083.9-1341.8-1083.1-1340.4-1083.1z M-1324.7-1083.1h4.4c1.4,0,2.2-0.8,2.2-2.2v-4.4c0-1.4-0.8-2.2-2.2-2.2h-4.4
            c-1.4,0-2.2,0.8-2.2,2.2v4.4C-1326.9-1083.9-1326-1083.1-1324.7-1083.1z M-1309-1083.1h4.5c1.4,0,2.2-0.8,2.2-2.2v-4.4
            c0-1.4-0.8-2.2-2.2-2.2h-4.5c-1.3,0-2.1,0.8-2.1,2.2v4.4C-1311.1-1083.9-1310.3-1083.1-1309-1083.1z M-1293.3-1083.1h4.5
            c1.3,0,2.1-0.8,2.1-2.2v-4.4c0-1.4-0.8-2.2-2.1-2.2h-4.5c-1.4,0-2.2,0.8-2.2,2.2v4.4C-1295.5-1083.9-1294.6-1083.1-1293.3-1083.1z
            M-1277.6-1083.1h4.4c1.4,0,2.2-0.8,2.2-2.2v-4.4c0-1.4-0.8-2.2-2.2-2.2h-4.4c-1.4,0-2.2,0.8-2.2,2.2v4.4
            C-1279.7-1083.9-1278.9-1083.1-1277.6-1083.1z M-1356.1-1067.4h4.5c1.4,0,2.2-0.8,2.2-2.2v-4.5c0-1.3-0.8-2.1-2.2-2.1h-4.5
            c-1.3,0-2.1,0.8-2.1,2.1v4.5C-1358.3-1068.2-1357.4-1067.4-1356.1-1067.4z M-1339.9-1067.4h50.6c1.7,0,2.6-1,2.6-2.7v-3.5
            c0-1.7-1-2.6-2.6-2.6h-50.6c-1.7,0-2.7,1-2.7,2.6v3.5C-1342.6-1068.3-1341.6-1067.4-1339.9-1067.4z M-1277.6-1067.4h4.4
            c1.4,0,2.2-0.8,2.2-2.2v-4.5c0-1.3-0.8-2.1-2.2-2.1h-4.4c-1.4,0-2.2,0.8-2.2,2.1v4.5C-1279.7-1068.2-1278.9-1067.4-1277.6-1067.4z" />
      </g>
    </svg>
  </a>
  <!-- <div class:hidden={!$isActive('/')} class="indicator" /> -->

  <!-- <a href="/play">
    <svg
      version="1.1"
      class:active={$isActive('/play')}
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      x="0px"
      y="0px"
      width="110.9px"
      height="89.4px"
      viewBox="0 0 110.9 89.4"
      enable-background="new 0 0 110.9 89.4"
      xml:space="preserve">
      <g id="Regular-M_1_" transform="matrix(1 0 0 1 1381.95 1126)">
        <path
          d="M-1366.6-1036.6h81.7c8.7,0,13.9-5.1,13.9-15.1v-50.1c0-10.1-5.2-15.1-15.3-15.1h-46.9c-3.3,0-5.3-0.8-7.8-2.9l-3-2.4
     c-3.2-2.7-5.7-3.6-10.5-3.6h-13.9c-8.5,0-13.5,4.9-13.5,14.7v59.5C-1381.9-1041.7-1376.8-1036.6-1366.6-1036.6z M-1374.1-1110.9
     c0-4.8,2.5-7.3,7.2-7.3h10.3c3.2,0,5.2,0.8,7.7,2.9l3,2.5c3.2,2.6,5.8,3.6,10.6,3.6h48.8c4.8,0,7.6,2.6,7.6,7.7v2.8h-95.2V-1110.9z
      M-1366.5-1044.5c-4.9,0-7.6-2.6-7.6-7.7v-39.2h95.2v39.2c0,5-2.8,7.6-7.6,7.6H-1366.5z" />
      </g>
    </svg>
  </a> -->
  <!-- {#each urls as url} -->
  <a href={$url('/write')}>
    <svg
      version="1.1"
      class:active={$isActive('/write')}
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      x="0px"
      y="0px"
      viewBox="0 0 101 101"
      enable-background="new 0 0 101 101"
      xml:space="preserve">
      <defs />
      <g id="Medium-M_1_" transform="matrix(1 0 0 1 1687.3 1126)">
        <path
          d="M-1636.8-1025c27.7,0,50.5-22.9,50.5-50.5s-22.9-50.5-50.6-50.5c-27.6,0-50.4,22.9-50.4,50.5S-1664.4-1025-1636.8-1025z
          M-1636.8-1035.1c-22.4,0-40.3-18-40.3-40.4s17.9-40.4,40.3-40.4c22.4,0,40.4,18,40.5,40.4S-1614.4-1035.1-1636.8-1035.1z
          M-1654.8-1070.9h13.4v13.4c0,2.7,1.9,4.6,4.5,4.6c2.7,0,4.7-1.9,4.7-4.6v-13.4h13.4c2.7,0,4.6-1.9,4.6-4.6s-1.9-4.6-4.6-4.6h-13.4
          v-13.4c0-2.7-2-4.6-4.7-4.6c-2.6,0-4.5,1.9-4.5,4.6v13.4h-13.4c-2.8,0-4.7,2-4.7,4.6S-1657.6-1070.9-1654.8-1070.9z" />
      </g>
    </svg>
  </a>

  <!-- <a href={$url('/quiz')}>
    <svg
      version="1.1"
      class:active={$isActive('/quiz')}
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      x="0px"
      y="0px"
      viewBox="0 0 101 101"
      enable-background="new 0 0 101 101"
      xml:space="preserve">
      <defs />
      <g id="Medium-M_1_" transform="matrix(1 0 0 1 1687.3 1126)">
        <path
          d="M-1636.8-1025c27.7,0,50.5-22.9,50.5-50.5s-22.9-50.5-50.6-50.5c-27.6,0-50.4,22.9-50.4,50.5S-1664.4-1025-1636.8-1025z
          M-1636.8-1035.1c-22.4,0-40.3-18-40.3-40.4s17.9-40.4,40.3-40.4c22.4,0,40.4,18,40.5,40.4S-1614.4-1035.1-1636.8-1035.1z
          M-1654.8-1070.9h13.4v13.4c0,2.7,1.9,4.6,4.5,4.6c2.7,0,4.7-1.9,4.7-4.6v-13.4h13.4c2.7,0,4.6-1.9,4.6-4.6s-1.9-4.6-4.6-4.6h-13.4
          v-13.4c0-2.7-2-4.6-4.7-4.6c-2.6,0-4.5,1.9-4.5,4.6v13.4h-13.4c-2.8,0-4.7,2-4.7,4.6S-1657.6-1070.9-1654.8-1070.9z" />
      </g>
    </svg>
  </a> -->
  <a href={$url('/blog')}>
    <!-- Generator: Adobe Illustrator 24.1.0, SVG Export Plug-In  -->
    <svg
      version="1.1"
      class:active={$isActive('/posts')}
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      x="0px"
      y="0px"
      width="113px"
      height="104.7px"
      viewBox="0 0 113 104.7"
      style="enable-background:new 0 0 113 104.7;"
      xml:space="preserve">
      <defs />
      <g id="Regular-M_1_" transform="matrix(1 0 0 1 1380.87 1126)">
        <path
          d="M-1380.9-1036.1c0,9.7,4.8,14.7,14.7,14.7h83c10.3,0,15.3-5,15.3-15.1v-74.5c0-10.1-5.1-15.1-15.3-15.1h-60.8
      c-10.2,0-15.3,5.1-15.3,15.1v23.3h-11.7c-6.2,0-9.9,3.4-9.9,9.2V-1036.1z M-1353.1-1029.2c1.1-2.1,1.7-4.5,1.7-7.4v-73.9
      c0-5.1,2.7-7.7,7.6-7.7h60.6c4.8,0,7.6,2.6,7.6,7.7v73.6c0,5.1-2.7,7.7-7.6,7.7H-1353.1z M-1338.8-1096.9h50.5c1.7,0,3-1.4,3-3.1
      c0-1.7-1.3-2.9-3-2.9h-50.5c-1.8,0-3.1,1.3-3.1,2.9C-1341.9-1098.3-1340.5-1096.9-1338.8-1096.9z M-1338.8-1079.7h50.5
      c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3h-50.5c-1.8,0-3.1,1.3-3.1,3C-1341.9-1081-1340.5-1079.7-1338.8-1079.7z M-1373-1036.1v-40.8
      c0-1.8,1.1-2.8,2.9-2.8h10.8v43.7c0,4.1-3,6.9-6.8,6.9C-1370-1029.2-1373-1032.2-1373-1036.1z M-1335.9-1044.9h12.6
      c3.7,0,6-2.2,6-6v-11.6c0-3.8-2.2-6-6-6h-12.6c-3.8,0-6,2.2-6,6v11.6C-1341.9-1047.1-1339.7-1044.9-1335.9-1044.9z M-1308.5-1062.5
      h20.2c1.7,0,3-1.3,3-2.9c0-1.8-1.3-3.1-3-3.1h-20.2c-1.8,0-3,1.3-3,3.1C-1311.5-1063.7-1310.3-1062.5-1308.5-1062.5z
        M-1308.5-1044.9h20.2c1.7,0,3-1.3,3-2.9c0-1.7-1.3-3.1-3-3.1h-20.2c-1.8,0-3,1.4-3,3.1
      C-1311.5-1046.2-1310.3-1044.9-1308.5-1044.9z" />
      </g>
    </svg>
  </a>
  <!-- <a href={$url('/images')}>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      x="0px"
      y="0px"
      class:active={$isActive('/images')}
      viewBox="0 0 97.3 89.9"
      enable-background="new 0 0 97.3 89.9"
      xml:space="preserve">
      <defs />
      <g id="Regular-M_1_" transform="matrix(1 0 0 1 1388.74 1126)">
        <path
          d="M-1373.4-1036.1h66.7c10.2,0,15.3-5.1,15.3-15.1v-59.6c0-10.1-5.1-15.1-15.3-15.1h-66.7c-10.2,0-15.3,5-15.3,15.1v59.6
		C-1388.7-1041.1-1383.6-1036.1-1373.4-1036.1z M-1374.1-1044c-4.3,0-6.7-2.3-6.7-6.8v-46c0-4.5,2.4-6.8,6.7-6.8h68.1
		c4.3,0,6.8,2.3,6.8,6.8v46c0,4.5-2.4,6.8-6.8,6.8H-1374.1z M-1365.7-1085.5h51.3c1.8,0,3-1.4,3-3.1c0-1.7-1.3-2.9-3-2.9h-51.3
		c-1.8,0-3.1,1.3-3.1,2.9C-1368.8-1086.9-1367.5-1085.5-1365.7-1085.5z M-1365.7-1070.8h51.3c1.8,0,3-1.3,3-2.9c0-1.8-1.3-3.1-3-3.1
		h-51.3c-1.8,0-3.1,1.3-3.1,3.1C-1368.8-1072.1-1367.5-1070.8-1365.7-1070.8z M-1365.7-1056.1h32.6c1.8,0,3-1.3,3-2.9
		c0-1.7-1.3-3.1-3-3.1h-32.6c-1.8,0-3.1,1.4-3.1,3.1C-1368.8-1057.4-1367.5-1056.1-1365.7-1056.1z" />
      </g>
    </svg>
  </a> -->

  <a href={$url('/podcast')}>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 99.6 99.6">
      <g id="Regular-M_1_" transform="matrix(1 0 0 1 1391.3 1126)">
        <path
          d="M-1341.5-1026.4c27.2,0,49.8-22.6,49.8-49.8c0-27.2-22.6-49.8-49.9-49.8c-27.2,0-49.8,22.6-49.8,49.8
          C-1391.3-1049-1368.7-1026.4-1341.5-1026.4z M-1341.5-1034.7c-23,0-41.5-18.5-41.5-41.5s18.4-41.5,41.4-41.5s41.5,18.5,41.6,41.5
          C-1299.9-1053.1-1318.4-1034.7-1341.5-1034.7z M-1346.5-1044.2c1.6,0,2.9-1.3,2.9-3v-58c0-1.7-1.3-3-2.9-3c-1.7,0-3,1.3-3,3v58
          C-1349.5-1045.5-1348.2-1044.2-1346.5-1044.2z M-1326.7-1051.1c1.7,0,2.9-1.3,2.9-2.9v-44.5c0-1.6-1.3-2.9-2.9-2.9
          s-2.9,1.3-2.9,2.9v44.5C-1329.6-1052.4-1328.4-1051.1-1326.7-1051.1z M-1356.4-1057.2c1.7,0,2.9-1.3,2.9-2.9v-32.1
          c0-1.6-1.3-2.9-2.9-2.9s-2.9,1.3-2.9,2.9v32.1C-1359.3-1058.5-1358-1057.2-1356.4-1057.2z M-1336.6-1061.2c1.7,0,2.9-1.3,2.9-2.9
          v-24.4c0-1.6-1.3-2.9-2.9-2.9c-1.6,0-2.9,1.3-2.9,2.9v24.4C-1339.5-1062.4-1338.2-1061.2-1336.6-1061.2z M-1316.7-1066.6
          c1.7,0,2.9-1.2,2.9-2.9v-13.5c0-1.7-1.2-2.9-2.9-2.9c-1.7,0-3,1.3-3,2.9v13.5C-1319.7-1067.8-1318.4-1066.6-1316.7-1066.6z
            M-1366.3-1069c1.7,0,3-1.3,3-2.9v-8.6c0-1.6-1.3-2.9-3-2.9c-1.6,0-2.9,1.3-2.9,2.9v8.6C-1369.2-1070.3-1368-1069-1366.3-1069z" />
      </g>
    </svg>
  </a>
  {#if $currentUser}
    <a href={$url(`/${$currentUser.slug}`)}>
      <Avatar user={currentUser} />
    </a>
  {:else}<a href={$url(`/login`)}>LOG</a>{/if}

  <!-- {/each} -->
</nav>
